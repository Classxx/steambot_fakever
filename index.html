<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Пополнение Steam — Касса</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="data:," />
  <meta name="color-scheme" content="light dark">
</head>
<body>
  <!-- Фиксированный фон: отдельный слой -->
  <div class="site-bg" aria-hidden="true"></div>

  <header class="site-header">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <img src="./logo.svg" alt="Логотип" />
      </div>
      <div class="brand-text">
        <strong>Steam Top-Up</strong>
        <span class="muted">Безопасно. Быстро. Удобно.</span>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="card checkout">
      <h1>Пополнение баланса Steam</h1>
      <p class="sub">Выберите регион, введите логин и сумму. Итог посчитается автоматически.</p>

      <form id="topup-form" novalidate>
        <!-- Кнопки-регионы -->
        <fieldset class="region-pills" id="region-group">
          <legend class="sr-only">Регион</legend>

          <input type="radio" name="region" id="reg-ru"  value="RU">
          <label for="reg-ru">Россия</label>

          <input type="radio" name="region" id="reg-kz"  value="KZ">
          <label for="reg-kz">Казахстан</label>

          <input type="radio" name="region" id="reg-cis" value="CIS">
          <label for="reg-cis">СНГ</label>
        </fieldset>

        <div class="form-grid">
          <div class="field">
            <label for="login">Логин Steam</label>
            <input id="login" name="login" type="text" inputmode="latin-name" autocomplete="username"
                   placeholder="например, class" required minlength="3" maxlength="64" />
            <small class="hint">Мы никогда не запрашиваем пароль.</small>
          </div>

          <div class="field">
            <label for="amount">Сумма пополнения (₽)</label>
            <div class="amount-wrap">
              <input id="amount" name="amount" type="number" min="50" step="1" placeholder="Например, 500" required />
            </div>
            <small class="hint">Минимум 50 ₽.</small>
          </div>

          <div class="field">
            <label for="promo">Промокод (опционально)</label>
            <input id="promo" name="promo" type="text" placeholder="Введите промокод" />
            <small id="promo-msg" class="hint"></small>
          </div>
        </div>

        <div class="summary card-ghost" role="region" aria-live="polite">
          <div class="row">
            <span>Сумма к зачислению</span>
            <strong id="sum-amount">—</strong>
          </div>
          <div class="row">
            <span>Комиссия сервиса <span class="muted" id="fee-rate-label"></span></span>
            <strong id="fee-amount">—</strong>
          </div>
          <div class="row">
            <span>Скидка по промокоду</span>
            <strong id="discount-amount">—</strong>
          </div>
          <hr />
          <div class="row total">
            <span>Итого к оплате</span>
            <strong id="total-amount">—</strong>
          </div>
        </div>

        <label class="check">
          <input type="checkbox" id="terms" />
          <span>Подтверждаю, что логин верный, и соглашаюсь с
            <a href="#" onclick="return false;">политикой конфиденциальности</a> и
            <a href="#" onclick="return false;">условиями сервиса</a>.
          </span>
        </label>

        <button id="pay-btn" type="submit" disabled>Оплатить</button>
      </form>
    </section>

    <section class="card info">
      <h2>Как это работает</h2>
      <ol class="steps pretty">
        <li><span>Укажите логин Steam</span><small>Только логин — пароли и коды не требуются.</small></li>
        <li><span>Выберите регион</span><small>Россия, Казахстан или СНГ — для корректной обработки.</small></li>
        <li><span>Введите сумму и промокод</span><small>Минимум 50 ₽, промокод — опционально.</small></li>
        <li><span>Подтвердите условия</span><small>Проверьте логин и согласие с политиками.</small></li>
        <li><span>Оплатите</span><small>Далее — платёжная страница.</small></li>
      </ol>
    </section>
  </main>

  <div id="toast" role="status" aria-live="assertive" class="toast" hidden></div>

  <footer class="site-footer">
    <span>© 2025 Steam Top-Up</span>
    <nav>
      <a href="#" onclick="return false;">Политика</a>
      <a href="#" onclick="return false;">Условия</a>
      <a href="#" onclick="return false;">Поддержка</a>
    </nav>
  </footer>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="app.js" defer></script>
</body>
</html>
